# 网络模型

## OSI 七层模型

### 七层

- 应用层

  **负责向用户提供服务**

  + 网络虚拟终端
  + 文件传输、访问和管理
  + 邮件服务
  + 目录服务

- 表示层

  + 翻译
+ 加密
  + 压缩
  
- 会话层

  **负责对话控制的同步**

  + 对话控制
  + 同步

- 传输层

  **负责一个报文从一个进程到另一个进程的传递**

  **进程到进程的传递**

  + 服务点寻址
  + 分段和组装
  + 连接控制
  + 流量控制
  + 差错控制

- 网络层

  **负责将各个分组从源地址传递到目的地址**

  **端到端的传递**

  + 逻辑寻址

  + 路由选择

- 数据链路层

  **负责帧从一跳（节点）到下一跳（节点）传递**

  + 成帧
  + 物理寻址
  + 流量控制
  + 差错控制
  + 访问控制

- 物理层

  **负责位从一个节点到另一个节点的传递**

  + 接口与介质的物理特性
  + 位的表示
  + 数据速率、传输速率
  + 位同步
  + 线路配置
  + 物理拓扑结构
  + 传输方式

- 七层模型示例

  ![OSI七层模型](https://gitee.com/twilight_h_1184651848/pic-go-img/raw/master/computerNetworks/networkModel/20201209154202.png)
  
  + 对等过程
  
    每一层调用下一层提供的服务，同时也向上一层提供服务
  
    两台机器间，各自的第 $x$ 层进行通信，这种通信由一系列称为协议的规则和约定来控制
  
    每台机器上的特定层次的通信过程被称为对等过程
  
  + 层间接口
  
    每一层接口都定义了该层必须向上层提供的信息和服务
  
  + 层次组织
  
    七个层次分属于三个子功能组
  
    * 网络支持层
  
      包括物理层、数据链路层和网络层
  
      处理一设备到另一设备数据传输的物理方面问题
  
    * 用户支持层
  
      包括会话层、表示层和应用层
  
      允许不相关的软件系统间的互操作
  
    * 传输层
  
      将上述两个子功能组连接起来
  
  + 传输过程示例
  
    ![OSI七层模型传输过程](https://gitee.com/twilight_h_1184651848/pic-go-img/raw/master/computerNetworks/networkModel/20201209155758.png)
  
    在发送端，每一层都在从直接上层传来的报文加上自己的信息，并将整个分组传到它的直接下层
  
    在接收端，报文被一层一层地打开，每一层接收并提取对它有意义的数据
  
    在发送端的每一层，数据单元可能被加入头部或者尾部（通常在第二层仅加上尾部），在接收端的每一层，在发送端对应层次附加的头部和尾部被除去，并执行该层相应的动作
  
    **封装**
  
    第 $N-1$ 层的分组中的数据部分是第 $N$ 层的完整分组
  
    第 $N-1$ 层不知道被封装分组中，哪些部分是数据，哪些部分是头部或尾部。对于第 $N-1$ 层来说，来自第 $N$ 层的分组是作为一个整体单元处理的。
  
    

### 问题

- OSI 标准制定周期过长，按OSI标准生产的设备无法及时进入市场
- OSI 模型设计的并不合理，一些功能在多层中重复出现
  现流行的还是 TCP/IP 五层模型

## TCP/IP 协议族

### 五层及其协议

- 应用层

- 传输层

  + 传输控制协议 TCP

    可靠的流（面向连接）传输协议

  + 用户数据报协议 UDP

    进程到进程的协议

    仅将端口号、校验和差错控制及信息长度添加到来自上一层的数据中

  + 流控制传输协议 SCTP

- 网络层

  + 网际协议 IP

    不可靠、无连接的数据报协议

    尽力传递服务

  + IP的支持协议

    * 地址解析协议 ARP

      用于已知节点的因特网地址寻找该节点的物理地址

    * 逆地址解析协议 RARP

      允许主机在仅知道物理地址的情况下寻找因特网地址

    * 因特网控制报文协议 ICMP

      向发送方通知数据报所发生的问题

    * 因特网组报文协议 IGMP

      将一个报文同时发送给一组接收者

- 数据链路层

- 物理层

- 模型示例

  ![TCP/IP和OSI模型](https://gitee.com/twilight_h_1184651848/pic-go-img/raw/master/computerNetworks/networkModel/20201209164557.png)

## 图解

![QQ图片20210101162433](https://gitee.com/twilight_h_1184651848/pic-go-img/raw/master/discreteMathematics/proposition/QQ图片20210101162433.png)