# 关系模型

## 关系数据库

### 一些概念

- 关系模式

	| 关系模型术语 | 表中内容 |
	| :-----------: | :--------: |
	| 关系         | 表       |
	| 元组、关系实例   | 行       |
	| 属性         | 列       |

	关系是元组集合

	**属性的域** 属性的允许取值的集合

	**域是原子的** 域中元素是不可再分的

- 数据库模式与数据库实例

  **数据库模式** 数据库的逻辑设计

  **数据库实例** 给定时刻数据库中数据的一个快照

### 码

- 引入

  需要区分给定关系中的不同元组的方法，而元组是由他们的属性来表明的，即一个元组的属性值必须能够唯一区分元组

- 超码

  一个或多个属性的集合，这些属性的组合可以使一个关系中唯一地标识一个元组

  超码中可能包含无关紧要的属性

- 候选码

  其任意真子集都不能成为超码的最小超码

  几个不同的属性集都可以做候选码的情况是存在的

- 主码

  被数据库设计者选中的，主要用来在一个关系中区分不同元组的候选码

  一般把一个关系模式的主码属性列在其他属性前面，且还加上下划线

- 码

  码是整个关系的一种性质，而不是单个元组的性质

  关系中的任意两个不同的元组都不允许同时在码属性上具有相同的值

- 外码

  一个关系模式 $r_1$ 可能在它的属性中包括另一个关系模式 $r_2$ 的主码，这个属性在 $r_1$ 上称作参照 $r_2$ 的外码，关系 $r_1$ 也称为外码依赖的**参照关系**，$r_2$ 叫做外码的**被参照关系**

  **参照完整性约束** 要求在参照关系中任意元组在特定属性上的取值必然等于被参照关系中某个元组在特定属性上的取值

### 模式图

- 引入

  一个含有主码和外码依赖的数据库模式可以用模式图来表示

- 画法

  |     内容     |                         画法                         |
  | :----------: | :--------------------------------------------------: |
  |     关系     |                         矩形                         |
  |  关系的名字  |                       矩形上方                       |
  | 关系的各属性 |                        矩形内                        |
  |   主码属性   |                     用下划线标注                     |
  |   外码依赖   | 从参照关系的外码属性到被参照关系的主码属性之间的箭头 |

  表示不出参照完整性约束

  ==实体-联系图（ER图） 有助于表示几种约束==

- 大学数据库的模式图

  ![大学数据库的模式图](https://gitee.com/twilight_h_1184651848/pic-go-img/raw/master/database/relationalModel/20201210142539.png)



